<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-55817127-4","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="GNS3 Documentation" href="/gns3-docs/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-55817127-4","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Switching and GNS3 | GNS3 Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Switching and GNS3 | GNS3 Documentation"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:url" content="https://mother.github.io/gns3-docs/docs/using-gns3/beginners/switching-and-gns3"><link data-react-helmet="true" rel="shortcut icon" href="/gns3-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mother.github.io/gns3-docs/docs/using-gns3/beginners/switching-and-gns3"><link rel="stylesheet" href="/gns3-docs/styles.5475faa1.css">
<link rel="preload" href="/gns3-docs/styles.4030d376.js" as="script">
<link rel="preload" href="/gns3-docs/runtime~main.e0ae479c.js" as="script">
<link rel="preload" href="/gns3-docs/main.8e58d925.js" as="script">
<link rel="preload" href="/gns3-docs/1.b1422824.js" as="script">
<link rel="preload" href="/gns3-docs/2.61b89e0a.js" as="script">
<link rel="preload" href="/gns3-docs/71.fbef022a.js" as="script">
<link rel="preload" href="/gns3-docs/72.7e35dcaf.js" as="script">
<link rel="preload" href="/gns3-docs/6bded35c.60b79d86.js" as="script">
<link rel="preload" href="/gns3-docs/17896441.41e457c6.js" as="script">
<link rel="preload" href="/gns3-docs/84f53706.556644f6.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/gns3-docs/"><img class="navbar__logo" src="/gns3-docs/img/logocolour.png" alt="GNS3 Docs"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gns3-docs/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://gns3.com/marketplace/appliances" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Appliances</a><a href="https://gns3.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GNS3.com</a><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/gns3-docs/"><img class="navbar__logo" src="/gns3-docs/img/logocolour.png" alt="GNS3 Docs"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/gns3-docs/docs/">Documentation</a></li><li class="menu__list-item"><a href="https://gns3.com/marketplace/appliances" target="_blank" rel="noopener noreferrer" class="menu__link">Appliances</a></li><li class="menu__list-item"><a href="https://gns3.com" target="_blank" rel="noopener noreferrer" class="menu__link">GNS3.com</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/">What is GNS3?</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/windows">Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/mac">Mac</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/linux">Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/esxi">ESXi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/remote-server">Remote Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/download-gns3-vm">Download the GNS3 VM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/download-32-bit">Download for Windows 32-bit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/one-server-multiple-clients">One GNS3 server, multiple clients</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/upgrade-gns3">Upgrade GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/installation/gns3-on-packet">GNS3 on Packet</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/setup-wizard-local-server">Setup wizard for local server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/setup-wizard-gns3-vm">Setup wizard for GNS3 VM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/your-first-gns3-topology">Your first GNS3 topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/getting-started/your-first-cisco-topology">Your first Cisco topology</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Using GNS3</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Beginners</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/the-gns3-gui">The GNS3 GUI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/change-node-symbol">Change node symbol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/gns3-styles">GNS3 Styles</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/switching-and-gns3">Switching and GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/the-console-terminal">The console terminal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/install-from-marketplace">Install an appliance from the GNS3 Marketplace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/import-gns3-appliance">Import GNS3 appliance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/gns3-docs/docs/using-gns3/beginners/link-control">Link Control</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/connect-gns3-internet">Connect GNS3 to the Internet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/the-nat-node">The NAT node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/special-ip-addresses">Special IP addresses in GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/move-from-iouvm-gns3-vm">Move from IOUVM to GNS3 VM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/settings-profiles">Settings profiles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/create-a-new-version-for-an-appliance">Create a new version for an appliance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/advanced/port-name-formatting">Port name formatting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">GNS3 Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/administration/gns3-server-configuration-file">GNS3 server configuration file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/administration/running-gns3-server-as-daemon">Running the GNS3 server as a daemon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/administration/gns3-security">GNS3 Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/administration/client-server-ssl-encryption">Client server SSL encryption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/administration/scale-gns3">Scale GNS3</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">GNS3 Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/design/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/using-gns3/design/why-gns3-uses-uuid">Why does GNS3 use UUIDs?</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Emulators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/which-emulators-should-i-use">Which emulator should I use?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/cisco-ios-images-for-dynamips">Cisco IOS images for Dynamips</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/non-native-iou-for-windows-and-osx">Non-Native IOU for Windows and OSX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/adding-vmware-vms-to-gns3-topologies">Adding VMware VMs to GNS3 Topologies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/docker-support-in-gns3">Docker support in GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/create-a-docker-container-for-gns3">Create a docker container for GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/vpcs">VPCS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/emulators/qemu-system-uuid">Qemu system UUID</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/contribute/contribute-to-gns3">Contribute to GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/contribute/development-of-gns3">Development of GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/contribute/how-to-debug-web-ui-guide">How to debug Web UI Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How-to Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/how-to-guides/cisco-asa">Cisco ASA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/how-to-guides/importing-vmx-and-vqfx-into-gns3">Importing vMX and vQFX into GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/how-to-guides/how-to-use-console-applications-with-the-web-ui">How to use applications with the GNS3 Web interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/how-to-guides/configure-gns3-to-use-an-additional-remote-server">Configure GNS3 to use an additional remote server</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting &amp; FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/troubleshooting-faq/troubleshoot-gns3">Troubleshoot GNS3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/troubleshooting-faq/general-faq">General FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/gns3-docs/docs/troubleshooting-faq/where-do-i-get-ios-images">Where do I get IOS images?</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Switching and GNS3</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>One common misconception about GNS3 is that GNS3 does not support advanced switching options. While this was true in the past, GNS3 now supports options such as:</p><ul><li>Etherchannel</li><li>PVST+</li><li>RPVST+</li><li>MST</li><li>Port Security</li><li>DTP</li><li>And many others.</li></ul><p>Complimentary campus technologies such as HSRP are also supported.
Your selection of image and platform will affect what is possible. Options include:</p><ul><li>Cisco IOSvL2</li><li>Etherswitch module</li><li>IOU</li><li>GNS3 built in switch</li><li>Openvswitch</li><li>Others</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="cisco-switches"></a>Cisco Switches<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cisco-switches" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="iosvl2"></a>IOSvL2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iosvl2" title="Direct link to heading">#</a></h3><p><strong>Recommended_switching_platform</strong> Cisco VIRL IOSvL2</p><p>With a Cisco VIRL IOSvL2 image, you can configure and test a wide range of advanced switching features. Go here for a full list:</p><p><a href="https://learningnetwork.cisco.com/docs/DOC-30404" target="_blank" rel="noopener noreferrer">https://learningnetwork.cisco.com/docs/DOC-30404</a></p><p>This is the official Cisco way of emulating a switch.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="etherswitch"></a>Etherswitch<a aria-hidden="true" tabindex="-1" class="hash-link" href="#etherswitch" title="Direct link to heading">#</a></h3><p><strong>Basic_switching</strong> Etherswitch module</p><p>While an Etherswitch module does not support advanced layer 2 features, it does allow you to configure basic VLANs, Spanning Tree and other options.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Instructions on configuring a c3725 router to act as an “etherswitch router” (or “swouter”), with a few basic instructions are found at the bottom of this document</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="iou"></a>IOU<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iou" title="Direct link to heading">#</a></h3><p>IOU is a less resource intensive alternative to IOSvL2, but the images are not publicly available. You will need to get them from someone who works at Cisco. In addition, as this is a Cisco internal tool, IOU mages may be buggy and no support is available.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="non-cisco"></a>Non-Cisco<a aria-hidden="true" tabindex="-1" class="hash-link" href="#non-cisco" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="unmanaged-switching-gns3-built-in-switch"></a>Unmanaged switching: GNS3 built in switch<a aria-hidden="true" tabindex="-1" class="hash-link" href="#unmanaged-switching-gns3-built-in-switch" title="Direct link to heading">#</a></h3><p>Use this if all you need is a basic switch to connect devices in a GNS3 topology. You cannot configure this switch through a CLI, but you can set the number of ports supported on the switch and other basic settings.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It’s not running a switch OS, everything is emulated from scratch. This mean some protocol could be buggy. Use it only for basic operations</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="open-vswitch"></a>Open vSwitch<a aria-hidden="true" tabindex="-1" class="hash-link" href="#open-vswitch" title="Direct link to heading">#</a></h3><p>By leveraging GNS3 support for Docker, you can now add Open vSwitch to your GNS3 topologies. In order to do that, use this template:</p><p><a href="https://gns3.com/marketplace/appliance/open-vswitch" target="_blank" rel="noopener noreferrer">https://gns3.com/marketplace/appliance/open-vswitch</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="others"></a>Others<a aria-hidden="true" tabindex="-1" class="hash-link" href="#others" title="Direct link to heading">#</a></h3><p>You can also use switches from other vendors such as Cumulus, Extreme Networks and many more.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-a-c3725-as-an-etherswitch-router"></a>Using a c3725 as an “Etherswitch Router”<a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-a-c3725-as-an-etherswitch-router" title="Direct link to heading">#</a></h3><p>This is a rather simple process, but be aware that your options for configuring Cisco switching while using a c3640, c3660, c3725, and c3745 for this are quite limited. <a href="/gns3-docs/docs/emulators/cisco-ios-images-for-dynamips#cisco-catalyst-switches">Refer to the switching section of this document to see what features will be unavailable to you</a>.</p><p>This example will use a c3725 router IOS image, but the same steps apply if using the other three platforms listed above.</p><p>First, click <strong>Edit-&gt;Preferences-&gt;IOS Routers-&gt;New</strong> in the GNS3 GUI.</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/1.jpg"><p>Pick <strong>run this IOS image via the local computer</strong>, and click <strong>Next &gt;</strong>:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/2.jpg"><p>(You can also run this image via the GNS3 VM)
Select <strong>New Image</strong>, and click <strong>Browse</strong> to locate the image in your filesystem (you must supply your own!).</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/3.jpg"><p>Select the image file, and click <strong>Open</strong>:  </p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/4.jpg"><p>You’ll be asked if you’d like to decompress this image. Choose <strong>Yes</strong>, as it will load faster, instead of decompressing every time you start the image:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/5.jpg"><p>Click <strong>Next &gt;</strong> to continue:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/6.jpg"><p> On the screen where you’re asked to name the router, select the <strong>“This is an Etherswitch router”</strong> option (this is important!). It will automatically name the device <strong>Etherswitch router</strong>, and place into the <strong>Switches</strong> device category, instead of <strong>Routers</strong>. Click <strong>Next &gt;</strong>:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/7.jpg"><p>On the next screen, go ahead and increase the minimum amount of RAM to 256MB, and click <strong>Next &gt;</strong>:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/8.jpg"><p>Notice that slot 0 is still prepopulated with the GT96100-FE Dual FastEthernet adapter, and slot 1 will have the NM-16ESW module preinstalled.  Never attempt to replace that GT96100-FE adapter with a switch module, as it will not work. You can add a second NM-16ESW,a NM-1FE-TX single FastEthernet adapter,  or an NM-4T serial port adapter to slot 2.</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/9.jpg"><p>Click <strong>Next &gt;</strong>:</p><p>You can add WIC modules on the next page, consisting of either WIC-1T or WIC-2T serial port adapters.  It’s not a bad idea to add a few serial WICs to this Etherswitch Router, but you can skip this step if you choose. Whichever you decide, click <strong>Next &gt;</strong> to continue:.</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/10.jpg"><p>This device will should already have an Idle-PC value listed. If so, click <strong>Finish</strong>:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/11.jpg"><p>If the IOS image you are using does not also list an <strong>Idle-PC</strong> value, then click the <strong>Idle-PC finder</strong> button:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/12.jpg"><p>Without having a suitable Idle-PC value for this device, it can consume 100% of the processing time of a CPU core, while running.  With an Idle-PC value defined, this will not be the case.  </p><p>It will take several seconds (depending on the speed of your computer) for the <strong>Idle-PC Finder</strong> to determine a suitable <strong>Idle-PC</strong> value:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/13.jpg"><p>Once an Idle-PC value is found, click <strong>OK</strong> to close the pop up window:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/14.jpg"><p>Click <strong>Finish</strong> to complete the import and set up process:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/15.jpg"><p>Back at the main <strong>IOS router template</strong> page, ensure that the Etherswitch router has at least <strong>1MB</strong> specified for <strong>PCMCIA disk0</strong>:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/16.jpg"><p>Click <strong>OK</strong> to return to the main GNS3 GUI:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/17.jpg"><p>When you add this Etherswitch Router to a topology in the <strong>Workspace</strong>, there is something you must be aware of.  The first two FastEthernet ports (fa0/0 and fa0/1) provided by that GT96100-FE are routed ports only!  This is by design, and they cannot be used as switchports.  If you left the default NM-16ESW adapter installed in slot 1, the switchports will be interfaces fa1/0 and go through fa1/15:  </p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/18.jpg"><p>With that out of the way, let’s see a few of the configuration quirks you’ll want to be aware of.  When the Etherswitch router boots up, you’ll see that you either create vlans using “vlan database” in exec mode, or the “va [#]” macro in global config mode:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/19.jpg"><p>Here’s an example of creating vlans 10 and 20 in vlan database:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/20.jpg"><p>We can’t use the “sh vlan” command, but we can either use the “sh vlan-switch brief” command or the “vl” macro in exec mode:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/21.jpg"><p>Despite the router saying to create/delete VLANs in config mode instead of vlan database, both of those macros will take you out to the vlan database, and then return you to global config mode automatically.</p><p>“va [#]” in global config mode will add a vlan:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/22.jpg"><p>While “vd [#]” in global config mode will delete a vlan:</p><img alt="screenshot" src="/gns3-docs/img/using-gns3/beginners/switching-and-gns3/23.jpg"><p>These are just the immediate quirks you’ll need to get accustomed to, when using these Etherswitch routers, as opposed to the IOSvL2 multilayer switch VM from Cisco VIRL.  Again, for a full list of what these Etherswitch routers are and are not capable of, please refer to the link I posted at the beginning of this section.  </p><p>If VIRL isn’t an option, but you can use the GNS3 VM in VMware Workstation Player/Pro/Fusion, ESXi, or even running GNS3 natively in Linux, there are multiple non-Cisco vendors with switch VMs available.  Some merely require registration to download, like Arista and their vEOS switch VM,  Cumulus Networks and their Cumulus VX VM, others like Extreme Networks make their virtual EXOS and VOSS VMs available for free on Github, and Juniper does have a vQFX-10K switch VM, but you must request access from a service rep to get the 90 day trial.   Only vEOS comes close to having a CLI comparable to IOS, and obviously not every feature will be functional on these VMs, and some have steep system requirements, but they are an alternate option.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mother/gns3-docs/blob/master/docs/using-gns3/beginners/switching-and-gns3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/gns3-docs/docs/using-gns3/beginners/gns3-styles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« GNS3 Styles</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/gns3-docs/docs/using-gns3/beginners/the-console-terminal"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The console terminal »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#cisco-switches" class="table-of-contents__link">Cisco Switches</a><ul><li><a href="#iosvl2" class="table-of-contents__link">IOSvL2</a></li><li><a href="#etherswitch" class="table-of-contents__link">Etherswitch</a></li><li><a href="#iou" class="table-of-contents__link">IOU</a></li></ul></li><li><a href="#non-cisco" class="table-of-contents__link">Non-Cisco</a><ul><li><a href="#unmanaged-switching-gns3-built-in-switch" class="table-of-contents__link">Unmanaged switching: GNS3 built in switch</a></li><li><a href="#open-vswitch" class="table-of-contents__link">Open vSwitch</a></li><li><a href="#others" class="table-of-contents__link">Others</a></li><li><a href="#using-a-c3725-as-an-etherswitch-router" class="table-of-contents__link">Using a c3725 as an “Etherswitch Router”</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/gns3-docs/docs/">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Visit Us</h4><ul class="footer__items"><li class="footer__item"><a href="https://gns3.com/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">GNS3 Community</a></li><li class="footer__item"><a href="https://academy.gns3.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GNS3 Academy</a></li><li class="footer__item"><a href="https://gns3.com/training" target="_blank" rel="noopener noreferrer" class="footer__link-item">GNS3 Certification</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Connect</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Galaxy Technologies LLC.</div></div></div></footer></div>
<script src="/gns3-docs/styles.4030d376.js"></script>
<script src="/gns3-docs/runtime~main.e0ae479c.js"></script>
<script src="/gns3-docs/main.8e58d925.js"></script>
<script src="/gns3-docs/1.b1422824.js"></script>
<script src="/gns3-docs/2.61b89e0a.js"></script>
<script src="/gns3-docs/71.fbef022a.js"></script>
<script src="/gns3-docs/72.7e35dcaf.js"></script>
<script src="/gns3-docs/6bded35c.60b79d86.js"></script>
<script src="/gns3-docs/17896441.41e457c6.js"></script>
<script src="/gns3-docs/84f53706.556644f6.js"></script>
</body>
</html>